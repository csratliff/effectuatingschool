<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Effectual School Leader: Simulating Change</title>
    <style>
        :root {
            --primary: #4a6fa5;
            --secondary: #6db784;
            --accent: #f39c12;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --danger: #e74c3c;
            --warning: #f1c40f;
            --success: #2ecc71;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }
        
        h2 {
            font-size: 1.8rem;
            margin: 1.5rem 0 1rem;
            color: var(--primary);
        }
        
        h3 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: var(--dark);
        }
        
        .game-content {
            display: flex;
            flex-direction: column;
            min-height: 80vh;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 3fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        .sidebar {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .main-content {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .stat-item {
            background-color: var(--light);
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--dark);
        }
        
        .stat-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        
        .btn {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px 0;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
            text-align: center;
        }
        
        .btn:hover {
            background-color: #3d5d8a;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
        }
        
        .btn-secondary:hover {
            background-color: #5c9c71;
        }
        
        .btn-accent {
            background-color: var(--accent);
        }
        
        .btn-accent:hover {
            background-color: #d68910;
        }
        
        .btn-full {
            display: block;
            width: 100%;
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .card-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .card-content {
            margin-bottom: 10px;
        }
        
        .choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 15px 0;
        }
        
        .choice-btn {
            padding: 10px 15px;
            background-color: var(--light);
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }
        
        .choice-btn:hover {
            background-color: #e3e8ec;
            border-color: var(--primary);
        }
        
        .choice-btn.selected {
            background-color: #daeaf6;
            border-color: var(--primary);
        }
        
        .month-indicator {
            text-align: center;
            padding: 10px;
            background-color: var(--primary);
            color: white;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        
        .events-log {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin-top: 15px;
            background-color: var(--light);
        }
        
        .event-item {
            padding: 5px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .event-item:last-child {
            border-bottom: none;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .close-modal {
            float: right;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .tab-container {
            margin: 20px 0;
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 10px 15px;
            background-color: var(--light);
            border: 1px solid #ddd;
            border-bottom: none;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        
        .tab.active {
            background-color: white;
            border-bottom: 1px solid white;
            color: var(--primary);
            font-weight: bold;
        }
        
        .tab-content {
            padding: 15px;
            border: 1px solid #ddd;
            border-top: none;
            background-color: white;
        }
        
        .tab-panel {
            display: none;
        }
        
        .tab-panel.active {
            display: block;
        }
        
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 15px 0;
        }
        
        @media (max-width: 768px) {
            .grid-container {
                grid-template-columns: 1fr;
            }
        }
        
        .grid-item {
            background-color: var(--light);
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .grid-item:hover {
            background-color: #e3e8ec;
            transform: translateY(-3px);
        }
        
        .grid-item.selected {
            background-color: #daeaf6;
            border: 2px solid var(--primary);
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark);
            color: white;
            text-align: center;
            border-radius: 5px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        #message-area {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }
        
        .message-success {
            background-color: #d4edda;
            color: #155724;
        }
        
        .message-warning {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .message-danger {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .hidden {
            display: none;
        }
        
        #game-container {
            min-height: 600px;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #e3e8ec;
        }
        
        #start-panel, #vision-panel, #build-panel, #staff-panel, #program-panel, #play-panel, #event-panel, #end-game-panel {
            display: none;
        }
        
        /* Make the start panel visible initially */
        #start-panel {
            display: block;
            text-align: center;
            padding: 40px 20px;
        }
        
        .intro-text {
            max-width: 800px;
            margin: 0 auto 30px;
            line-height: 1.8;
        }
        
        .staff-member, .program-option {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        
        .staff-member:hover, .program-option:hover {
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        .staff-member h4, .program-option h4 {
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .staff-cost, .program-cost {
            color: var(--dark);
            font-weight: bold;
        }
        
        .staff-benefits, .program-benefits {
            color: var(--success);
            margin-top: 5px;
        }
        
        .staff-selected, .program-selected {
            background-color: #d4edda;
            border-color: var(--success);
        }
        
        .community-panel, .district-panel, .student-panel {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .bar-container {
            width: 100%;
            height: 25px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin-top: 10px;
            position: relative;
        }
        
        .bar-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.3s ease;
            position: relative;
        }
        
        .bar-label {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .timeline-container {
            display: flex;
            justify-content: space-between;
            margin: 30px 0 15px;
            position: relative;
        }
        
        .timeline-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background-color: #ddd;
            transform: translateY(-50%);
            z-index: 1;
        }
        
        .timeline-step {
            width: 25px;
            height: 25px;
            background-color: #ddd;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
            z-index: 2;
        }
        
        .timeline-step.active {
            background-color: var(--primary);
            color: white;
        }
        
        .timeline-step.completed {
            background-color: var(--success);
            color: white;
        }
        
        .timeline-label {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">The Effectual School Leader</div>
        <div class="subtitle">Simulating Change</div>
    </header>
    
    <div class="container">
        <div id="game-container">
            <!-- Start Panel -->
            <div id="start-panel">
                <h2>Welcome to The Effectual School Leader</h2>
                <div class="intro-text">
                    <p>Created by <strong>Chad Ratliff</strong> to explore the intersection between effectuation and educational leadership.</p>
                    <p>You are an education innovator tasked with designing and leading a school that challenges traditional paradigms. Your mission is to balance innovation, leadership, policy, and finance to build a successful educational institution while navigating real-world challenges.</p>
                    <p>As an effectual leader, you'll need to decide whether to focus on:</p>
                    <ul style="text-align: left; margin: 20px auto; max-width: 700px;">
                        <li><strong>Doing Things Better:</strong> Turn around, transform, or found schools that adhere to the traditional "grammar of schooling," improving struggling public schools or establishing new ones within traditional structures.</li>
                        <li><strong>Doing Better Things:</strong> Start or lead early-stage schools designed to deconstruct some or all elements of the grammar of schooling, creating fundamentally new approaches to education.</li>
                    </ul>
                    <p>Are you ready to apply effectuation principles to transform education and impact the next generation?</p>
                </div>
                <button id="start-game-btn" class="btn btn-accent">Start Your Journey</button>
            </div>
            
            <!-- Vision Panel -->
            <div id="vision-panel">
                <div class="timeline-container">
                    <div class="timeline-step active" id="timeline-step-1">1
                        <div class="timeline-label">Vision</div>
                    </div>
                    <div class="timeline-step" id="timeline-step-2">2
                        <div class="timeline-label">Build</div>
                    </div>
                    <div class="timeline-step" id="timeline-step-3">3
                        <div class="timeline-label">Staff</div>
                    </div>
                    <div class="timeline-step" id="timeline-step-4">4
                        <div class="timeline-label">Program</div>
                    </div>
                    <div class="timeline-step" id="timeline-step-5">5
                        <div class="timeline-label">Launch</div>
                    </div>
                </div>
                
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-title">Choose Your Leadership Approach</div>
                    <div class="card-content">
                        <div class="choices">
                            <div class="choice-btn leadership-choice" data-approach="improve">
                                <h3>Doing Things Better</h3>
                                <p>Focus on improving within traditional educational frameworks. You'll work within existing structures but make them more effective.</p>
                                <p><em>"The effectual leader who transforms schools within traditional grammar."</em></p>
                            </div>
                            
                            <div class="choice-btn leadership-choice" data-approach="transform">
                                <h3>Doing Better Things</h3>
                                <p>Focus on deconstructing traditional educational elements to create fundamentally new approaches.</p>
                                <p><em>"The effectual leader who challenges the very grammar of schooling."</em></p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h3>Choose Your Educational Vision</h3>
                <p>The foundation of your school begins with a clear vision. Select the educational model that will define your approach:</p>
                
                <div class="grid-container">
                    <div class="grid-item vision-choice" data-vision="pbl" data-approach="both">
                        <h3>Project-Based Learning</h3>
                        <p>Students learn through dynamic, hands-on projects that solve real-world problems.</p>
                        <div class="stats">
                            <div class="stat-item">
                                <div class="stat-label">Innovation</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 90%; background-color: var(--success);"></div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Effectuation Potential</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 85%; background-color: var(--primary);"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid-item vision-choice" data-vision="interdisciplinary" data-approach="both">
                        <h3>Interdisciplinary Approach</h3>
                        <p>Curriculum integrates multiple subjects for a holistic understanding of complex topics.</p>
                        <div class="stats">
                            <div class="stat-item">
                                <div class="stat-label">Innovation</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 85%; background-color: var(--success);"></div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Effectuation Potential</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 80%; background-color: var(--primary);"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid-item vision-choice" data-vision="competency" data-approach="transform">
                        <h3>Competency-Based</h3>
                        <p>Students advance based on demonstrated mastery rather than seat time.</p>
                        <div class="stats">
                            <div class="stat-item">
                                <div class="stat-label">Innovation</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 95%; background-color: var(--success);"></div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Effectuation Potential</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 90%; background-color: var(--primary);"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid-item vision-choice" data-vision="student-driven" data-approach="transform">
                        <h3>Student-Driven</h3>
                        <p>Students participate in designing their learning paths and schedules.</p>
                        <div class="stats">
                            <div class="stat-item">
                                <div class="stat-label">Innovation</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 100%; background-color: var(--success);"></div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Effectuation Potential</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 95%; background-color: var(--primary);"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid-item vision-choice" data-vision="blended" data-approach="improve">
                        <h3>Blended Learning</h3>
                        <p>Combines digital content with traditional instruction for personalized learning.</p>
                        <div class="stats">
                            <div class="stat-item">
                                <div class="stat-label">Innovation</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 80%; background-color: var(--success);"></div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Effectuation Potential</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 75%; background-color: var(--primary);"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid-item vision-choice" data-vision="expeditionary" data-approach="transform">
                        <h3>Expeditionary Learning</h3>
                        <p>Learning through meaningful expeditions into the community and natural world.</p>
                        <div class="stats">
                            <div class="stat-item">
                                <div class="stat-label">Innovation</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 95%; background-color: var(--success);"></div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Effectuation Potential</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 85%; background-color: var(--primary);"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="vision-description" class="card hidden">
                    <div class="card-title">Vision Details</div>
                    <div class="card-content" id="vision-detail-content"></div>
                </div>
                
                <button id="vision-next-btn" class="btn btn-accent" disabled>Continue to Building Your School</button>
            </div>
            
            <!-- Build Panel -->
            <div id="build-panel">
                <div class="timeline-container">
                    <div class="timeline-step completed" id="timeline-step-1-complete">1
                        <div class="timeline-label">Vision</div>
                    </div>
                    <div class="timeline-step active" id="timeline-step-2-active">2
                        <div class="timeline-label">Build</div>
                    </div>
                    <div class="timeline-step" id="timeline-step-3-pending">3
                        <div class="timeline-label">Staff</div>
                    </div>
                    <div class="timeline-step" id="timeline-step-4-pending">4
                        <div class="timeline-label">Program</div>
                    </div>
                    <div class="timeline-step" id="timeline-step-5-pending">5
                        <div class="timeline-label">Launch</div>
                    </div>
                </div>
                
                <h2>Design Your School</h2>
                <p>Create the physical environment that will support your educational vision. Choose a facility type and consider how the space will facilitate learning:</p>
                
                <div class="dashboard">
                    <div class="sidebar">
                        <div class="card">
                            <div class="card-title">Budget Overview</div>
                            <div class="card-content">
                                <div class="stat-item">
                                    <div class="stat-label">Initial Budget</div>
                                    <div class="stat-value" id="initial-budget">$2,000,000</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Building Cost</div>
                                    <div class="stat-value" id="building-cost">$0</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Remaining Budget</div>
                                    <div class="stat-value" id="remaining-budget">$2,000,000</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="main-content">
                        <div class="grid-container">
                            <div class="grid-item facility-choice" data-facility="renovation" data-cost="800000">
                                <h3>Renovated Building</h3>
                                <p>Adapt an existing facility with moderate renovations to suit your needs.</p>
                                <p class="cost">Cost: $800,000</p>
                                <div class="stats">
                                    <div class="stat-item">
                                        <div class="stat-label">Flexibility</div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 60%; background-color: var(--warning);"></div>
                                        </div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">Community Perception</div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 70%; background-color: var(--success);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="grid-item facility-choice" data-facility="new-construction" data-cost="1500000">
                                <h3>New Construction</h3>
                                <p>Build a facility from the ground up, designed specifically for your educational model.</p>
                                <p class="cost">Cost: $1,500,000</p>
                                <div class="stats">
                                    <div class="stat-item">
                                        <div class="stat-label">Flexibility</div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 95%; background-color: var(--success);"></div>
                                        </div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">Community Perception</div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 90%; background-color: var(--success);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="grid-item facility-choice" data-facility="shared" data-cost="400000">
                                <h3>Shared Space</h3>
                                <p>Utilize existing community facilities with minimal modifications.</p>
                                <p class="cost">Cost: $400,000</p>
                                <div class="stats">
                                    <div class="stat-item">
                                        <div class="stat-label">Flexibility</div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 40%; background-color: var(--danger);"></div>
                                        </div>
                                    </div>
                                    <div class="stat-item">
                                        <div class
<div class="stat-label">Community Perception</div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 60%; background-color: var(--warning);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <h3>Design Your Learning Spaces</h3>
                        <p>Allocate your resources to create spaces that align with your educational model:</p>
                        
                        <div class="choices" id="space-allocation">
                            <div class="choice-item">
                                <label>Collaborative Learning Areas</label>
                                <input type="range" min="1" max="5" value="3" class="space-slider" data-space="collaborative">
                                <span class="space-value">3</span>
                            </div>
                            
                            <div class="choice-item">
                                <label>Individual Study Spaces</label>
                                <input type="range" min="1" max="5" value="3" class="space-slider" data-space="individual">
                                <span class="space-value">3</span>
                            </div>
                            
                            <div class="choice-item">
                                <label>Technology Integration</label>
                                <input type="range" min="1" max="5" value="3" class="space-slider" data-space="technology">
                                <span class="space-value">3</span>
                            </div>
                            
                            <div class="choice-item">
                                <label>Outdoor Learning Areas</label>
                                <input type="range" min="1" max="5" value="3" class="space-slider" data-space="outdoor">
                                <span class="space-value">3</span>
                            </div>
                            
                            <div class="choice-item">
                                <label>Community Connection Spaces</label>
                                <input type="range" min="1" max="5" value="3" class="space-slider" data-space="community">
                                <span class="space-value">3</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="build-next-btn" class="btn btn-accent" disabled>Continue to Staffing</button>
            </div>
            
            <!-- Staff Panel -->
            <div id="staff-panel">
                <div class="timeline-container">
                    <div class="timeline-step completed">1
                        <div class="timeline-label">Vision</div>
                    </div>
                    <div class="timeline-step completed">2
                        <div class="timeline-label">Build</div>
                    </div>
                    <div class="timeline-step active">3
                        <div class="timeline-label">Staff</div>
                    </div>
                    <div class="timeline-step">4
                        <div class="timeline-label">Program</div>
                    </div>
                    <div class="timeline-step">5
                        <div class="timeline-label">Launch</div>
                    </div>
                </div>
                
                <h2>Build Your Team</h2>
                <p>Your school's success depends on having the right educators and staff. Select team members who align with your educational vision:</p>
                
                <div class="dashboard">
                    <div class="sidebar">
                        <div class="card">
                            <div class="card-title">Budget Overview</div>
                            <div class="card-content">
                                <div class="stat-item">
                                    <div class="stat-label">Building Cost</div>
                                    <div class="stat-value" id="building-cost-summary">$0</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Staffing Budget</div>
                                    <div class="stat-value" id="staffing-budget">$1,000,000</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Selected Staff Cost</div>
                                    <div class="stat-value" id="staff-cost">$0</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Remaining Budget</div>
                                    <div class="stat-value" id="remaining-staff-budget">$1,000,000</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-title">Leadership Approach</div>
                            <div class="card-content" id="leadership-summary">
                                <!-- Will be filled dynamically -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="main-content">
                        <div id="staff-selection">
                            <div class="staff-member" data-id="principal" data-cost="120000">
                                <h4>Innovative Principal</h4>
                                <p>An experienced leader with a track record of educational innovation.</p>
                                <p class="staff-cost">Annual Cost: $120,000</p>
                                <p class="staff-benefits">+20 Leadership, +15 Innovation</p>
                                <button class="btn btn-secondary hire-btn">Hire</button>
                            </div>
                            
                            <div class="staff-member" data-id="curriculum" data-cost="90000">
                                <h4>Curriculum Director</h4>
                                <p>Expert in designing and implementing innovative learning programs.</p>
                                <p class="staff-cost">Annual Cost: $90,000</p>
                                <p class="staff-benefits">+25 Academic Quality, +10 Innovation</p>
                                <button class="btn btn-secondary hire-btn">Hire</button>
                            </div>
                            
                            <div class="staff-member" data-id="tech" data-cost="85000">
                                <h4>EdTech Specialist</h4>
                                <p>Bridges technology and education to enhance learning experiences.</p>
                                <p class="staff-cost">Annual Cost: $85,000</p>
                                <p class="staff-benefits">+20 Technology Integration, +15 Engagement</p>
                                <button class="btn btn-secondary hire-btn">Hire</button>
                            </div>
                            
                            <div class="staff-member" data-id="community" data-cost="75000">
                                <h4>Community Partnership Coordinator</h4>
                                <p>Builds relationships with local organizations and businesses.</p>
                                <p class="staff-cost">Annual Cost: $75,000</p>
                                <p class="staff-benefits">+25 Community Relations, +10 Funding</p>
                                <button class="btn btn-secondary hire-btn">Hire</button>
                            </div>
                            
                            <div class="staff-member" data-id="innovative-teachers" data-cost="65000">
                                <h4>Innovative Teacher (Per Position)</h4>
                                <p>Educators committed to your innovative approach.</p>
                                <p class="staff-cost">Annual Cost: $65,000 per teacher</p>
                                <p class="staff-benefits">+15 Academic Quality, +10 Student Well-being</p>
                                <div class="quantity-selector">
                                    <button class="btn quantity-minus">-</button>
                                    <span class="quantity-value">0</span>
                                    <button class="btn quantity-plus">+</button>
                                </div>
                            </div>
                            
                            <div class="staff-member" data-id="counselor" data-cost="70000">
                                <h4>Student Success Counselor</h4>
                                <p>Focuses on student well-being and social-emotional development.</p>
                                <p class="staff-cost">Annual Cost: $70,000</p>
                                <p class="staff-benefits">+20 Student Well-being, +10 Family Satisfaction</p>
                                <button class="btn btn-secondary hire-btn">Hire</button>
                            </div>
                            
                            <div class="staff-member" data-id="sped" data-cost="75000">
                                <h4>Special Education Coordinator</h4>
                                <p>Ensures inclusive practices for diverse learners.</p>
                                <p class="staff-cost">Annual Cost: $75,000</p>
                                <p class="staff-benefits">+15 Inclusivity, +15 Compliance</p>
                                <button class="btn btn-secondary hire-btn">Hire</button>
                            </div>
                            
                            <div class="staff-member" data-id="operations" data-cost="80000">
                                <h4>Operations Manager</h4>
                                <p>Handles logistics, finance, and day-to-day operations.</p>
                                <p class="staff-cost">Annual Cost: $80,000</p>
                                <p class="staff-benefits">+20 Efficiency, +15 Compliance</p>
                                <button class="btn btn-secondary hire-btn">Hire</button>
                            </div>
                        </div>
                        
                        <div id="effectuation-tip" class="card" style="margin-top: 20px;">
                            <div class="card-title">Effectuation Principle: Bird in Hand</div>
                            <div class="card-content">
                                <p>Remember, effectual entrepreneurs start with the means at hand: who they are, what they know, and whom they know. Consider your budget constraints as an opportunity for creative staffing solutions rather than a limitation.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="staff-next-btn" class="btn btn-accent" disabled>Continue to Program Design</button>
            </div>
            
            <!-- Program Panel -->
            <div id="program-panel">
                <div class="timeline-container">
                    <div class="timeline-step completed">1
                        <div class="timeline-label">Vision</div>
                    </div>
                    <div class="timeline-step completed">2
                        <div class="timeline-label">Build</div>
                    </div>
                    <div class="timeline-step completed">3
                        <div class="timeline-label">Staff</div>
                    </div>
                    <div class="timeline-step active">4
                        <div class="timeline-label">Program</div>
                    </div>
                    <div class="timeline-step">5
                        <div class="timeline-label">Launch</div>
                    </div>
                </div>
                
                <h2>Design Your Educational Program</h2>
                <p>Now it's time to create the learning experiences that will bring your vision to life. Select program elements that align with your approach:</p>
                
                <div class="dashboard">
                    <div class="sidebar">
                        <div class="card">
                            <div class="card-title">Program Budget</div>
                            <div class="card-content">
                                <div class="stat-item">
                                    <div class="stat-label">Available Budget</div>
                                    <div class="stat-value" id="program-budget">$250,000</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Selected Program Cost</div>
                                    <div class="stat-value" id="program-cost">$0</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Remaining Budget</div>
                                    <div class="stat-value" id="remaining-program-budget">$250,000</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-title">Effectuation Strategy</div>
                            <div class="card-content">
                                <p id="effectuation-strategy">Apply "Affordable Loss" principle by focusing on what you can afford to lose rather than expected returns. This allows for more experimentation and innovation.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="main-content">
                        <h3>Core Curriculum Approaches</h3>
                        
                        <div id="program-selection">
                            <div class="program-option" data-id="assessment" data-cost="60000" data-approach="both">
                                <h4>Narrative-Based Assessment</h4>
                                <p>Replace traditional grading with detailed narrative feedback that highlights growth and mastery.</p>
                                <p class="program-cost">Implementation Cost: $60,000</p>
                                <p class="program-benefits">+20 Student Engagement, +15 Authentic Learning</p>
                                <button class="btn btn-secondary select-program-btn">Select</button>
                            </div>
                            
                            <div class="program-option" data-id="math" data-cost="45000" data-approach="both">
                                <h4>Self-Paced Mathematics</h4>
                                <p>Allow students to progress through math concepts at their own pace with support as needed.</p>
                                <p class="program-cost">Implementation Cost: $45,000</p>
                                <p class="program-benefits">+15 Personalization, +20 Math Achievement</p>
                                <button class="btn btn-secondary select-program-btn">Select</button>
                            </div>
<div class="program-option" data-id="integrated" data-cost="50000" data-approach="transform">
                                <h4>Integrated Humanities</h4>
                                <p>Blend history, literature, art, and social studies into thematic, project-based units.</p>
                                <p class="program-cost">Implementation Cost: $50,000</p>
                                <p class="program-benefits">+25 Critical Thinking, +15 Engagement</p>
                                <button class="btn btn-secondary select-program-btn">Select</button>
                            </div>
                            
                            <div class="program-option" data-id="community" data-cost="40000" data-approach="transform">
                                <h4>Community-Based Learning</h4>
                                <p>Connect students with community partners for authentic learning experiences.</p>
                                <p class="program-cost">Implementation Cost: $40,000</p>
                                <p class="program-benefits">+20 Real-World Application, +15 Community Relations</p>
                                <button class="btn btn-secondary select-program-btn">Select</button>
                            </div>
                            
                            <div class="program-option" data-id="tech" data-cost="65000" data-approach="improve">
                                <h4>1:1 Technology Integration</h4>
                                <p>Provide each student with a device and integrate technology throughout the curriculum.</p>
                                <p class="program-cost">Implementation Cost: $65,000</p>
                                <p class="program-benefits">+15 Digital Literacy, +10 Personalization</p>
                                <button class="btn btn-secondary select-program-btn">Select</button>
                            </div>
                            
                            <div class="program-option" data-id="schedule" data-cost="30000" data-approach="transform">
                                <h4>Flexible Scheduling</h4>
                                <p>Replace rigid periods with flexible blocks that accommodate different learning needs.</p>
                                <p class="program-cost">Implementation Cost: $30,000</p>
                                <p class="program-benefits">+20 Personalization, +15 Engagement</p>
                                <button class="btn btn-secondary select-program-btn">Select</button>
                            </div>
                            
                            <div class="program-option" data-id="advisory" data-cost="35000" data-approach="both">
                                <h4>Advisory Program</h4>
                                <p>Create small groups where students build relationships with a mentor teacher who supports their overall development.</p>
                                <p class="program-cost">Implementation Cost: $35,000</p>
                                <p class="program-benefits">+25 Student Well-being, +10 School Culture</p>
                                <button class="btn btn-secondary select-program-btn">Select</button>
                            </div>
                            
                            <div class="program-option" data-id="outdoor" data-cost="55000" data-approach="transform">
                                <h4>Environmental Education</h4>
                                <p>Integrate outdoor learning experiences across the curriculum to connect with nature.</p>
                                <p class="program-cost">Implementation Cost: $55,000</p>
                                <p class="program-benefits">+15 Engagement, +20 Environmental Awareness</p>
                                <button class="btn btn-secondary select-program-btn">Select</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="program-next-btn" class="btn btn-accent" disabled>Launch Your School</button>
            </div>
            
            <!-- Play Panel -->
            <div id="play-panel">
                <div class="timeline-container">
                    <div class="timeline-step completed">1
                        <div class="timeline-label">Vision</div>
                    </div>
                    <div class="timeline-step completed">2
                        <div class="timeline-label">Build</div>
                    </div>
                    <div class="timeline-step completed">3
                        <div class="timeline-label">Staff</div>
                    </div>
                    <div class="timeline-step completed">4
                        <div class="timeline-label">Program</div>
                    </div>
                    <div class="timeline-step completed">5
                        <div class="timeline-label">Launch</div>
                    </div>
                </div>
                
                <h2>Running Your School</h2>
                <p>Your school is now operational! Navigate challenges, make decisions, and measure your impact.</p>
                
                <div class="dashboard">
                    <div class="sidebar">
                        <div class="month-indicator">
                            <h3>Month: <span id="current-month">1</span></h3>
                            <p>School Year: <span id="current-year">1</span></p>
                        </div>
                        
                        <div class="card">
                            <div class="card-title">School Stats</div>
                            <div class="card-content">
                                <div class="stat-item">
                                    <div class="stat-label">Budget Health</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="budget-health" style="width: 90%; background-color: var(--success);"></div>
                                    </div>
                                </div>
                                
                                <div class="stat-item">
                                    <div class="stat-label">Student Engagement</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="student-engagement" style="width: 75%; background-color: var(--success);"></div>
                                    </div>
                                </div>
                                
                                <div class="stat-item">
                                    <div class="stat-label">Academic Outcomes</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="academic-outcomes" style="width: 70%; background-color: var(--success);"></div>
                                    </div>
                                </div>
                                
                                <div class="stat-item">
                                    <div class="stat-label">Staff Morale</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="staff-morale" style="width: 85%; background-color: var(--success);"></div>
                                    </div>
                                </div>
                                
                                <div class="stat-item">
                                    <div class="stat-label">Community Support</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="community-support" style="width: 80%; background-color: var(--success);"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-title">Effectuation Principles</div>
                            <div class="card-content">
                                <p id="effectuation-tip">Apply the "Lemonade Principle" - look at surprises as opportunities rather than setbacks.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="main-content">
                        <div id="current-event" class="card">
                            <div class="card-title">Current Situation</div>
                            <div class="card-content" id="event-description">
                                <!-- Will be filled dynamically -->
                            </div>
                            <div class="choices" id="event-choices">
                                <!-- Will be filled dynamically -->
                            </div>
                        </div>
                        
                        <div class="events-log">
                            <h3>History Log</h3>
                            <div id="event-log-content">
                                <div class="event-item">You've successfully launched your school!</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="next-month-btn" class="btn btn-accent">Advance to Next Month</button>
            </div>
            
            <!-- Event Panel (for special events) -->
            <div id="event-panel">
                <h2 id="special-event-title">Special Event</h2>
                <div class="card">
                    <div class="card-content" id="special-event-description">
                        <!-- Will be filled dynamically -->
                    </div>
                    <div class="choices" id="special-event-choices">
                        <!-- Will be filled dynamically -->
                    </div>
                </div>
            </div>
            
            <!-- End Game Panel -->
            <div id="end-game-panel">
                <h2>End of Simulation</h2>
                <div class="card">
                    <div class="card-title">Your School's Impact</div>
                    <div class="card-content" id="end-game-summary">
                        <!-- Will be filled dynamically -->
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">Effectuation Analysis</div>
                    <div class="card-content" id="effectuation-analysis">
                        <!-- Will be filled dynamically -->
                    </div>
                </div>
                
                <div class="grid-container">
                    <div class="grid-item">
                        <h3>Student Outcomes</h3>
                        <div class="stat-item">
                            <div class="stat-label">Academic Growth</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="final-academic" style="width: 0%; background-color: var(--primary);"></div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Well-being</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="final-wellbeing" style="width: 0%; background-color: var(--primary);"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid-item">
                        <h3>Organizational Health</h3>
                        <div class="stat-item">
                            <div class="stat-label">Financial Sustainability</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="final-financial" style="width: 0%; background-color: var(--primary);"></div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Staff Retention</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="final-staff" style="width: 0%; background-color: var(--primary);"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid-item">
                        <h3>Innovation Impact</h3>
                        <div class="stat-item">
                            <div class="stat-label">Community Influence</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="final-community" style="width: 0%; background-color: var(--primary);"></div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Model Scalability</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="final-scalability" style="width: 0%; background-color: var(--primary);"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="quotes-section">
                    <h3>Stakeholder Reflections</h3>
                    <div id="stakeholder-quotes">
                        <!-- Will be filled dynamically -->
                    </div>
                </div>
                
                <button id="play-again-btn" class="btn btn-accent">Play Again</button>
                <button id="share-results-btn" class="btn btn-secondary">Share Your Results</button>
            </div>
        </div>
    </div>
<script>
        // Game State
        const gameState = {
            currentPanel: 'start',
            leadership: '',
            vision: '',
            facility: '',
            spaceAllocation: {
                collaborative: 3,
                individual: 3,
                technology: 3, 
                outdoor: 3,
                community: 3
            },
            initialBudget: 2000000,
            buildingCost: 0,
            remainingBudget: 2000000,
            staffingBudget: 1000000,
            staffCost: 0,
            remainingStaffBudget: 1000000,
            programBudget: 250000,
            programCost: 0,
            remainingProgramBudget: 250000,
            staff: [],
            programs: [],
            month: 1,
            year: 1,
            maxMonths: 24,
            stats: {
                budgetHealth: 90,
                studentEngagement: 75,
                academicOutcomes: 70,
                staffMorale: 85,
                communitySupport: 80
            },
            events: [],
            choices: [],
            eventLog: ['You\'ve successfully launched your school!']
        };
        
        // DOM Elements
        const startPanel = document.getElementById('start-panel');
        const visionPanel = document.getElementById('vision-panel');
        const buildPanel = document.getElementById('build-panel');
        const staffPanel = document.getElementById('staff-panel');
        const programPanel = document.getElementById('program-panel');
        const playPanel = document.getElementById('play-panel');
        const eventPanel = document.getElementById('event-panel');
        const endGamePanel = document.getElementById('end-game-panel');
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Start Button
            document.getElementById('start-game-btn').addEventListener('click', function() {
                changePanel('start', 'vision');
            });
            
            // Vision Selection
            const visionChoices = document.querySelectorAll('.vision-choice');
            visionChoices.forEach(choice => {
                choice.addEventListener('click', function() {
                    // Clear previous selections
                    visionChoices.forEach(c => c.classList.remove('selected'));
                    
                    // Select current choice
                    this.classList.add('selected');
                    
                    // Update game state
                    gameState.vision = this.getAttribute('data-vision');
                    
                    // Show vision details
                    const visionDetail = document.getElementById('vision-description');
                    const visionContent = document.getElementById('vision-detail-content');
                    visionDetail.classList.remove('hidden');
                    
                    // Set vision detail content based on selection
                    const visionTexts = {
                        'pbl': 'In your Project-Based Learning school, students will engage in meaningful projects that connect to real-world challenges. This approach builds critical thinking, collaboration, and problem-solving skills while making learning authentic and engaging.',
                        'interdisciplinary': 'Your Interdisciplinary approach will break down traditional subject barriers, allowing students to see connections across disciplines. This holistic approach helps students develop integrated thinking and transferable skills.',
                        'competency': 'With Competency-Based education, your school will focus on mastery rather than time spent learning. Students advance when they demonstrate proficiency, allowing for personalized pacing and deeper understanding.',
                        'student-driven': 'Your Student-Driven model empowers learners to take ownership of their education. Students will help design their learning pathways, set goals, and reflect on their progress, developing agency and metacognitive skills.',
                        'blended': 'In your Blended Learning environment, students will experience a mix of digital and face-to-face instruction. This approach offers flexibility, personalization, and access to diverse resources and learning experiences.',
                        'expeditionary': 'Your Expeditionary Learning model will take students beyond classroom walls for immersive learning experiences. These meaningful expeditions develop character, academic skills, and connection to community and environment.'
                    };
                    
                    visionContent.innerHTML = visionTexts[gameState.vision];
                    
                    // Enable next button
                    document.getElementById('vision-next-btn').removeAttribute('disabled');
                });
            });
            
            // Leadership Approach Selection
            const leadershipChoices = document.querySelectorAll('.leadership-choice');
            leadershipChoices.forEach(choice => {
choice.addEventListener('click', function() {
                    // Clear previous selections
                    leadershipChoices.forEach(c => c.classList.remove('selected'));
                    
                    // Select current choice
                    this.classList.add('selected');
                    
                    // Update game state
                    gameState.leadership = this.getAttribute('data-approach');
                    
                    // Show only compatible visions
                    visionChoices.forEach(vision => {
                        const approach = vision.getAttribute('data-approach');
                        if (approach === gameState.leadership || approach === 'both') {
                            vision.style.opacity = 1;
                            vision.style.pointerEvents = 'auto';
                        } else {
                            vision.style.opacity = 0.5;
                            vision.style.pointerEvents = 'none';
                            
                            // Deselect if incompatible
                            if (vision.classList.contains('selected')) {
                                vision.classList.remove('selected');
                                gameState.vision = '';
                                document.getElementById('vision-next-btn').setAttribute('disabled', true);
                                document.getElementById('vision-description').classList.add('hidden');
                            }
                        }
                    });
                });
            });
            
            // Vision to Build Navigation
            document.getElementById('vision-next-btn').addEventListener('click', function() {
                changePanel('vision', 'build');
                
                // Update leadership summary
                const leadershipSummary = gameState.leadership === 'improve' ? 
                    '<strong>Doing Things Better:</strong> You\'re focusing on improving within traditional educational frameworks.' :
                    '<strong>Doing Better Things:</strong> You\'re focusing on deconstructing traditional educational elements.';
                
                if (document.getElementById('leadership-summary')) {
                    document.getElementById('leadership-summary').innerHTML = leadershipSummary;
                }
            });
            
            // Facility Selection
            const facilityChoices = document.querySelectorAll('.facility-choice');
            facilityChoices.forEach(choice => {
                choice.addEventListener('click', function() {
                    // Clear previous selections
                    facilityChoices.forEach(c => c.classList.remove('selected'));
                    
                    // Select current choice
                    this.classList.add('selected');
                    
                    // Update game state
                    gameState.facility = this.getAttribute('data-facility');
                    gameState.buildingCost = parseInt(this.getAttribute('data-cost'));
                    gameState.remainingBudget = gameState.initialBudget - gameState.buildingCost;
                    
                    // Update UI
                    document.getElementById('building-cost').textContent = '$' + gameState.buildingCost.toLocaleString();
                    document.getElementById('remaining-budget').textContent = '$' + gameState.remainingBudget.toLocaleString();
                    
                    // Enable next button if space allocation is also set
                    checkBuildComplete();
                });
            });
            
            // Space Allocation Sliders
            const spaceSliders = document.querySelectorAll('.space-slider');
            spaceSliders.forEach(slider => {
                slider.addEventListener('input', function() {
                    const space = this.getAttribute('data-space');
                    const value = this.value;
                    
                    // Update display value
                    this.nextElementSibling.textContent = value;
                    
                    // Update game state
                    gameState.spaceAllocation[space] = parseInt(value);
                    
                    // Enable next button if facility is also selected
                    checkBuildComplete();
                });
            });
            
            // Check if building design is complete
            function checkBuildComplete() {
                if (gameState.facility) {
                    document.getElementById('build-next-btn').removeAttribute('disabled');
                }
            }
            
            // Build to Staff Navigation
            document.getElementById('build-next-btn').addEventListener('click', function() {
                changePanel('build', 'staff');
                
                // Update building cost summary
                document.getElementById('building-cost-summary').textContent = '$' + gameState.buildingCost.toLocaleString();
            });
            
            // Staff Hiring
            const hireButtons = document.querySelectorAll('.hire-btn');
            hireButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const staffMember = this.parentElement;
                    const staffId = staffMember.getAttribute('data-id');
                    const staffCost = parseInt(staffMember.getAttribute('data-cost'));
                    
                    if (staffMember.classList.contains('staff-selected')) {
                        // Remove staff
                        staffMember.classList.remove('staff-selected');
                        button.textContent = 'Hire';
                        
                        // Update game state
                        gameState.staffCost -= staffCost;
                        gameState.staff = gameState.staff.filter(s => s !== staffId);
                    } else {
                        // Check if budget allows
                        if (gameState.staffCost + staffCost <= gameState.staffingBudget) {
                            // Add staff
                            staffMember.classList.add('staff-selected');
                            button.textContent = 'Remove';
                            
                            // Update game state
                            gameState.staffCost += staffCost;
                            gameState.staff.push(staffId);
                        } else {
                            alert('Not enough budget to hire this staff member.');
                        }
                    }
                    
                    // Update UI
                    gameState.remainingStaffBudget = gameState.staffingBudget - gameState.staffCost;
                    document.getElementById('staff-cost').textContent = '$' + gameState.staffCost.toLocaleString();
                    document.getElementById('remaining-staff-budget').textContent = '$' + gameState.remainingStaffBudget.toLocaleString();
                    
                    // Enable next button if at least some staff are hired
                    checkStaffComplete();
                });
            });
            
            // Teacher Quantity Selectors
            const quantityMinusButtons = document.querySelectorAll('.quantity-minus');
            const quantityPlusButtons = document.querySelectorAll('.quantity-plus');
            
            quantityMinusButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const valueSpan = this.nextElementSibling;
                    let quantity = parseInt(valueSpan.textContent);
                    
                    if (quantity > 0) {
                        quantity--;
                        valueSpan.textContent = quantity;
                        
                        const staffMember = this.closest('.staff-member');
                        const staffId = staffMember.getAttribute('data-id');
                        const staffCost = parseInt(staffMember.getAttribute('data-cost'));
                        
                        // Update game state
                        gameState.staffCost -= staffCost;
                        
                        // Remove one teacher from staff array
                        const index = gameState.staff.indexOf(staffId);
                        if (index > -1) {
                            gameState.staff.splice(index, 1);
                        }
                        
                        // Update UI
                        gameState.remainingStaffBudget = gameState.staffingBudget - gameState.staffCost;
                        document.getElementById('staff-cost').textContent = '$' + gameState.staffCost.toLocaleString();
                        document.getElementById('remaining-staff-budget').textContent = '$' + gameState.remainingStaffBudget.toLocaleString();
                        
                        checkStaffComplete();
                    }
                });
            });
            
            quantityPlusButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const valueSpan = this.previousElementSibling;
                    let quantity = parseInt(valueSpan.textContent);
                    
                    const staffMember = this.closest('.staff-member');
                    const staffId = staffMember.getAttribute('data-id');
                    const staffCost = parseInt(staffMember.getAttribute('data-cost'));
                    
                    // Check if budget allows
                    if (gameState.staffCost + staffCost <= gameState.staffingBudget) {
                        quantity++;
                        valueSpan.textContent = quantity;
                        
                        // Update game state
                        gameState.staffCost += staffCost;
                        gameState.staff.push(staffId);
                        
                        // Update UI
                        gameState.remainingStaffBudget = gameState.staffingBudget - gameState.staffCost;
                        document.getElementById('staff-cost').textContent = '$' + gameState.staffCost.toLocaleString();
                        document.getElementById('remaining-staff-budget').textContent = '$' + gameState.remainingStaffBudget.toLocaleString();
                        
                        checkStaffComplete();
                    } else {
                        alert('Not enough budget to hire more teachers.');
                    }
                });
            });
function checkStaffComplete() {
                if (gameState.staff.length > 0) {
                    document.getElementById('staff-next-btn').removeAttribute('disabled');
                } else {
                    document.getElementById('staff-next-btn').setAttribute('disabled', true);
                }
            }
            
            // Staff to Program Navigation
            document.getElementById('staff-next-btn').addEventListener('click', function() {
                changePanel('staff', 'program');
            });
            
            // Program Selection
            const programButtons = document.querySelectorAll('.select-program-btn');
            programButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const programOption = this.parentElement;
                    const programId = programOption.getAttribute('data-id');
                    const programCost = parseInt(programOption.getAttribute('data-cost'));
                    const programApproach = programOption.getAttribute('data-approach');
                    
                    // Check if compatible with leadership approach
                    if (programApproach !== 'both' && programApproach !== gameState.leadership) {
                        alert('This program doesn\'t align with your leadership approach. Consider a different option.');
                        return;
                    }
                    
                    if (programOption.classList.contains('program-selected')) {
                        // Remove program
                        programOption.classList.remove('program-selected');
                        button.textContent = 'Select';
                        
                        // Update game state
                        gameState.programCost -= programCost;
                        gameState.programs = gameState.programs.filter(p => p !== programId);
                    } else {
                        // Check if budget allows
                        if (gameState.programCost + programCost <= gameState.programBudget) {
                            // Add program
                            programOption.classList.add('program-selected');
                            button.textContent = 'Remove';
                            
                            // Update game state
                            gameState.programCost += programCost;
                            gameState.programs.push(programId);
                        } else {
                            alert('Not enough budget for this program.');
                        }
                    }
                    
                    // Update UI
                    gameState.remainingProgramBudget = gameState.programBudget - gameState.programCost;
                    document.getElementById('program-cost').textContent = '$' + gameState.programCost.toLocaleString();
                    document.getElementById('remaining-program-budget').textContent = '$' + gameState.remainingProgramBudget.toLocaleString();
                    
                    // Enable next button if at least some programs are selected
                    checkProgramComplete();
                });
            });
            
            function checkProgramComplete() {
                if (gameState.programs.length > 0) {
                    document.getElementById('program-next-btn').removeAttribute('disabled');
                } else {
                    document.getElementById('program-next-btn').setAttribute('disabled', true);
                }
            }
            
            // Program to Play Navigation
            document.getElementById('program-next-btn').addEventListener('click', function() {
                changePanel('program', 'play');
                initializeGameplay();
            });
            
            // Gameplay Initialization
            function initializeGameplay() {
                // Set initial values based on prior choices
                updateStats();
                generateEvent();
                
                // Update UI elements
                document.getElementById('current-month').textContent = gameState.month;
                document.getElementById('current-year').textContent = gameState.year;
            }
            
            // Next Month Button
            document.getElementById('next-month-btn').addEventListener('click', function() {
                // Advance time
                gameState.month++;
                
                if (gameState.month > 12) {
                    gameState.month = 1;
                    gameState.year++;
                }
                
                // Update month/year display
                document.getElementById('current-month').textContent = gameState.month;
                document.getElementById('current-year').textContent = gameState.year;
                
                // Adjust stats based on random factors and previous decisions
                randomlyFluctuateStats();
                
                // Generate new event
                generateEvent();
                
                // Check for game end
                if (gameState.month + ((gameState.year - 1) * 12) > gameState.maxMonths) {
                    endGame();
                }
            });
            
            // Random stat fluctuations
            function randomlyFluctuateStats() {
                const stats = ['budgetHealth', 'studentEngagement', 'academicOutcomes', 'staffMorale', 'communitySupport'];
                
                stats.forEach(stat => {
                    // Random fluctuation between -3 and +3
                    const change = Math.floor(Math.random() * 7) - 3;
                    gameState.stats[stat] = Math.max(0, Math.min(100, gameState.stats[stat] + change));
                });
                
                updateStats();
            }
            
            // Update displayed stats
            function updateStats() {
                document.getElementById('budget-health').style.width = gameState.stats.budgetHealth + '%';
                document.getElementById('student-engagement').style.width = gameState.stats.studentEngagement + '%';
                document.getElementById('academic-outcomes').style.width = gameState.stats.academicOutcomes + '%';
                document.getElementById('staff-morale').style.width = gameState.stats.staffMorale + '%';
                document.getElementById('community-support').style.width = gameState.stats.communitySupport + '%';
                
                // Update color based on value
                const statElements = ['budget-health', 'student-engagement', 'academic-outcomes', 'staff-morale', 'community-support'];
                
                statElements.forEach(el => {
                    const element = document.getElementById(el);
                    const value = parseInt(element.style.width);
                    
                    if (value >= 70) {
                        element.style.backgroundColor = 'var(--success)';
                    } else if (value >= 40) {
                        element.style.backgroundColor = 'var(--warning)';
                    } else {
                        element.style.backgroundColor = 'var(--danger)';
                    }
                });
            }
            
            // Generate random event
            function generateEvent() {
                const events = [
                    {
                        title: "Budget Challenge",
                        description: "The district has announced a 5% budget reduction for all schools due to funding shortfalls.",
                        choices: [
                            {
                                text: "Cut non-essential programs temporarily",
                                effect: {budgetHealth: 10, studentEngagement: -5, staffMorale: -5}
                            },
                            {
                                text: "Launch a community fundraising campaign",
                                effect: {budgetHealth: 5, communitySupport: 10, staffMorale: 5}
                            },
                            {
                                text: "Seek innovative partnerships with local businesses",
                                effect: {budgetHealth: 8, communitySupport: 8, academicOutcomes: 3}
                            }
                        ]
                    },
                    {
                        title: "Teacher Burnout",
                        description: "Several teachers are showing signs of burnout due to the challenges of implementing your innovative model.",
                        choices: [
                            {
                                text: "Provide additional planning time by restructuring schedules",
                                effect: {staffMorale: 15, budgetHealth: -5}
                            },
                            {
                                text: "Organize professional development focused on well-being",
                                effect: {staffMorale: 10, budgetHealth: -3, academicOutcomes: 3}
                            },
                            {
                                text: "Create teacher leadership roles to distribute responsibilities",
                                effect: {staffMorale: 8, academicOutcomes: 5}
                            }
                        ]
                    },
{
                        title: "Parent Concern",
                        description: "A vocal group of parents is expressing concern about your nontraditional approach, worried about college readiness.",
                        choices: [
                            {
                                text: "Host information sessions to explain your model and show evidence",
                                effect: {communitySupport: 10, budgetHealth: -2}
                            },
                            {
                                text: "Invite parents to observe classes and see the benefits firsthand",
                                effect: {communitySupport: 15, studentEngagement: 3, staffMorale: -2}
                            },
                            {
                                text: "Create a parent advisory committee to incorporate feedback",
                                effect: {communitySupport: 12, staffMorale: -3, academicOutcomes: 3}
                            }
                        ]
                    },
                    {
                        title: "Student Disengagement",
                        description: "Some students are struggling to adapt to the autonomy required in your school model.",
                        choices: [
                            {
                                text: "Implement a peer mentoring program",
                                effect: {studentEngagement: 10, academicOutcomes: 5}
                            },
                            {
                                text: "Create more structured scaffolding for students who need it",
                                effect: {studentEngagement: 12, academicOutcomes: 8, staffMorale: -3}
                            },
                            {
                                text: "Organize student focus groups to understand their challenges",
                                effect: {studentEngagement: 8, staffMorale: 5, communitySupport: 3}
                            }
                        ]
                    },
                    {
                        title: "Compliance Requirements",
                        description: "New state regulations require additional documentation and testing that seems at odds with your model.",
                        choices: [
                            {
                                text: "Comply fully, adjusting your model where necessary",
                                effect: {academicOutcomes: -5, staffMorale: -8, communitySupport: 5}
                            },
                            {
                                text: "Seek waivers by demonstrating alternative assessment methods",
                                effect: {academicOutcomes: 3, staffMorale: 5, budgetHealth: -3}
                            },
                            {
                                text: "Join with other innovative schools to advocate for policy changes",
                                effect: {communitySupport: 8, staffMorale: 10, budgetHealth: -5}
                            }
                        ]
                    },
                    {
                        title: "Technology Integration",
                        description: "Your technology infrastructure is facing challenges keeping up with your educational vision.",
                        choices: [
                            {
                                text: "Invest in a major technology upgrade",
                                effect: {academicOutcomes: 10, studentEngagement: 8, budgetHealth: -15}
                            },
                            {
                                text: "Train teachers on creative low-tech alternatives",
                                effect: {staffMorale: 5, academicOutcomes: 3, budgetHealth: 5}
                            },
                            {
                                text: "Seek technology donations from local businesses",
                                effect: {academicOutcomes: 7, communitySupport: 8, budgetHealth: 3}
                            }
                        ]
                    },
                    {
                        title: "Research Opportunity",
                        description: "A university is looking for innovative schools to participate in a research study on educational models.",
                        choices: [
                            {
                                text: "Participate fully, sharing data and allowing observations",
                                effect: {academicOutcomes: 8, communitySupport: 5, staffMorale: -3}
                            },
                            {
                                text: "Collaborate as a co-researcher, shaping the study questions",
                                effect: {academicOutcomes: 12, staffMorale: 8, budgetHealth: -2}
                            },
                            {
                                text: "Decline to maintain focus on your current priorities",
                                effect: {staffMorale: 5, academicOutcomes: -3}
                            }
                        ]
                    },
                    {
                        title: "Community Partnership",
                        description: "A local organization wants to establish a partnership with your school for student projects.",
                        choices: [
                            {
                                text: "Embrace the partnership fully with multiple touchpoints",
                                effect: {studentEngagement: 10, communitySupport: 15, staffMorale: -5}
                            },
                            {
                                text: "Start with a small pilot program before expanding",
                                effect: {studentEngagement: 5, communitySupport: 8, staffMorale: 3}
                            },
                            {
                                text: "Invite them to serve as mentors rather than project partners",
                                effect: {studentEngagement: 7, academicOutcomes: 5, communitySupport: 5}
                            }
                        ]
                    }
                ];
                
                // Select random event
                const randomEvent = events[Math.floor(Math.random() * events.length)];
                
                // Display event
                document.getElementById('event-description').innerHTML = `
                    <h3>${randomEvent.title}</h3>
                    <p>${randomEvent.description}</p>
                `;
                
                // Clear previous choices
                const choicesContainer = document.getElementById('event-choices');
                choicesContainer.innerHTML = '';
                
                // Add choice buttons
                randomEvent.choices.forEach((choice, index) => {
                    const choiceButton = document.createElement('button');
                    choiceButton.classList.add('choice-btn');
                    choiceButton.textContent = choice.text;
                    
                    choiceButton.addEventListener('click', function() {
                        // Apply effects
                        Object.keys(choice.effect).forEach(stat => {
                            gameState.stats[stat] = Math.max(0, Math.min(100, gameState.stats[stat] + choice.effect[stat]));
                        });
                        
                        // Update stats display
                        updateStats();
                        
                        // Add to log
                        const logEntry = `Month ${gameState.month}, Year ${gameState.year}: ${randomEvent.title} - ${choice.text}`;
                        gameState.eventLog.unshift(logEntry);
                        
                        // Update log display
                        updateEventLog();
                        
                        // Generate new event
                        generateEvent();
                    });
                    
                    choicesContainer.appendChild(choiceButton);
                });
                
                // Implement effectuation tip based on current state
                updateEffectuationTip();
            }
            
            // Update event log
            function updateEventLog() {
                const logContainer = document.getElementById('event-log-content');
                logContainer.innerHTML = '';
                
                // Display last 10 events
                const eventsToShow = gameState.eventLog.slice(0, 10);
                
                eventsToShow.forEach(event => {
                    const eventItem = document.createElement('div');
                    eventItem.classList.add('event-item');
                    eventItem.textContent = event;
                    logContainer.appendChild(eventItem);
                });
            }
            
            // Update effectuation tip
            function updateEffectuationTip() {
                const tips = [
                    "Bird in Hand: Start with what you have. Use your existing resources creatively rather than seeking what you 'should' have.",
                    "Affordable Loss: Focus on what you can afford to lose rather than potential gains. This allows for more experimentation.",
                    "Crazy Quilt: Build partnerships and bring stakeholders on board to co-create the future.",
                    "Lemonade: Embrace surprises and setbacks as opportunities to create new value.",
                    "Pilot in the Plane: Focus on activities within your control to shape the future rather than trying to predict it."
                ];
                
                const randomTip = tips[Math.floor(Math.random() * tips.length)];
                document.getElementById('effectuation-tip').textContent = randomTip;
            }
            
            // End game
            function endGame() {
                changePanel('play', 'end-game-panel');
                generateEndGameResults();
            }
// Generate end game results
            function generateEndGameResults() {
                // Calculate final scores
                const academicScore = gameState.stats.academicOutcomes;
                const wellbeingScore = (gameState.stats.studentEngagement + gameState.stats.staffMorale) / 2;
                const financialScore = gameState.stats.budgetHealth;
                const staffScore = gameState.stats.staffMorale;
                const communityScore = gameState.stats.communitySupport;
                const scalabilityScore = Math.floor((academicScore + financialScore + communityScore) / 3);
                
                // Update final stats
                document.getElementById('final-academic').style.width = academicScore + '%';
                document.getElementById('final-wellbeing').style.width = wellbeingScore + '%';
                document.getElementById('final-financial').style.width = financialScore + '%';
                document.getElementById('final-staff').style.width = staffScore + '%';
                document.getElementById('final-community').style.width = communityScore + '%';
                document.getElementById('final-scalability').style.width = scalabilityScore + '%';
                
                // Set colors
                const finalStats = ['final-academic', 'final-wellbeing', 'final-financial', 'final-staff', 'final-community', 'final-scalability'];
                finalStats.forEach(stat => {
                    const element = document.getElementById(stat);
                    const value = parseInt(element.style.width);
                    
                    if (value >= 70) {
                        element.style.backgroundColor = 'var(--success)';
                    } else if (value >= 40) {
                        element.style.backgroundColor = 'var(--warning)';
                    } else {
                        element.style.backgroundColor = 'var(--danger)';
                    }
                });
                
                // Generate summary
                let summary = '';
                let approach = gameState.leadership === 'improve' ? 'doing things better' : 'doing better things';
                let visionName = '';
                
                switch(gameState.vision) {
                    case 'pbl': visionName = 'Project-Based Learning'; break;
                    case 'interdisciplinary': visionName = 'Interdisciplinary Approach'; break;
                    case 'competency': visionName = 'Competency-Based Education'; break;
                    case 'student-driven': visionName = 'Student-Driven Learning'; break;
                    case 'blended': visionName = 'Blended Learning'; break;
                    case 'expeditionary': visionName = 'Expeditionary Learning'; break;
                }
                
                let overallSuccess = '';
                const averageScore = (academicScore + wellbeingScore + financialScore + communityScore + scalabilityScore) / 5;
                
                if (averageScore >= 80) {
                    overallSuccess = 'remarkable success';
                } else if (averageScore >= 60) {
                    overallSuccess = 'solid success';
                } else if (averageScore >= 40) {
                    overallSuccess = 'modest success with challenges';
                } else {
                    overallSuccess = 'significant challenges';
                }
                
                summary = `
                    <p>Your ${visionName} school focused on ${approach} has achieved ${overallSuccess} after two years.</p>
                    <p>Academic outcomes are ${academicScore >= 70 ? 'strong' : academicScore >= 50 ? 'satisfactory' : 'concerning'}, 
                    with student and staff well-being ${wellbeingScore >= 70 ? 'thriving' : wellbeingScore >= 50 ? 'stable' : 'struggling'}.</p>
                    <p>Financially, your model is ${financialScore >= 70 ? 'sustainable' : financialScore >= 50 ? 'viable but challenges remain' : 'facing significant challenges'},
                    while community support is ${communityScore >= 70 ? 'enthusiastic' : communityScore >= 50 ? 'growing' : 'limited'}.</p>
                    <p>The potential for your model to scale and influence other schools is ${scalabilityScore >= 70 ? 'excellent' : scalabilityScore >= 50 ? 'promising' : 'unclear at this time'}.</p>
                `;
                
                document.getElementById('end-game-summary').innerHTML = summary;
                
                // Generate effectuation analysis
                let effectuationAnalysis = '';
                
                if (gameState.leadership === 'improve') {
                    effectuationAnalysis = `
                        <p>As an effectual leader focused on "doing things better," you worked within traditional educational frameworks but employed effectuation principles to enhance outcomes. Your approach prioritized making improvements to existing structures rather than radical transformation.</p>
                        <p>You demonstrated effectual thinking by ${academicScore >= 70 ? 'leveraging available resources creatively' : 'attempting to work within constraints'} and ${communityScore >= 70 ? 'building strong stakeholder partnerships'
: 'engaging with stakeholders to varying degrees of success'}.</p>
                        <p>Your leadership style aligned with the effectuation principle of ${financialScore >= 70 ? '"affordable loss" by managing resources wisely' : '"bird in hand" by working with available means'}.</p>
                    `;
                } else {
                    effectuationAnalysis = `
                        <p>As an effectual leader focused on "doing better things," you challenged the traditional grammar of schooling and used effectuation principles to create new approaches. Your vision prioritized transformation over incremental improvement.</p>
                        <p>You demonstrated effectual thinking by ${wellbeingScore >= 70 ? 'embracing uncertainty and creating new possibilities' : 'taking risks to reshape educational experiences'} and ${scalabilityScore >= 70 ? 'developing a model with potential to influence the broader system' : 'exploring alternative educational structures'}.</p>
                        <p>Your leadership style embodied the effectuation principle of ${communityScore >= 70 ? '"crazy quilt" by co-creating with stakeholders' : '"pilot in the plane" by actively shaping your environment rather than trying to predict it'}.</p>
                    `;
                }
                
                document.getElementById('effectuation-analysis').innerHTML = effectuationAnalysis;
                
                // Generate stakeholder quotes
                const stakeholderQuotes = document.getElementById('stakeholder-quotes');
                
                // Student quote
                const studentQuote = document.createElement('div');
                studentQuote.classList.add('card', 'quote');
                let studentText = '';
                if (gameState.stats.studentEngagement >= 70) {
                    studentText = "This school changed how I think about learning. I'm actually excited to come to school every day!";
                } else if (gameState.stats.studentEngagement >= 50) {
                    studentText = "There are some really cool things about this school, though sometimes it's a bit confusing.";
                } else {
                    studentText = "I think the ideas are interesting, but I often feel lost and unsure what I'm supposed to be doing.";
                }
                studentQuote.innerHTML = `<p><strong>Student:</strong> "${studentText}"</p>`;
                stakeholderQuotes.appendChild(studentQuote);
                
                // Teacher quote
                const teacherQuote = document.createElement('div');
                teacherQuote.classList.add('card', 'quote');
                let teacherText = '';
                if (gameState.stats.staffMorale >= 70) {
                    teacherText = "This is the most fulfilling teaching experience of my career. I've rediscovered why I became an educator.";
                } else if (gameState.stats.staffMorale >= 50) {
                    teacherText = "There are challenges, but I appreciate the vision. With more support, I think we could really make this work.";
                } else {
                    teacherText = "The ideas sound good on paper, but the reality is overwhelming. We need more structure and support.";
                }
                teacherQuote.innerHTML = `<p><strong>Teacher:</strong> "${teacherText}"</p>`;
                stakeholderQuotes.appendChild(teacherQuote);
                
                // Parent quote
                const parentQuote = document.createElement('div');
                parentQuote.classList.add('card', 'quote');
                let parentText = '';
                if (gameState.stats.communitySupport >= 70) {
                    parentText = "My child is thriving here. This school is exactly what our community needed - innovative but still focused on results.";
                } else if (gameState.stats.communitySupport >= 50) {
                    parentText = "I see the potential, though I still have some concerns about how this prepares my child for the future.";
                } else {
                    parentText = "I'm not convinced this approach is working. My child needs more structure and clear academic standards.";
                }
                parentQuote.innerHTML = `<p><strong>Parent:</strong> "${parentText}"</p>`;
                stakeholderQuotes.appendChild(parentQuote);
            }
            
            // Play again button
            document.getElementById('play-again-btn').addEventListener('click', function() {
                location.reload();
            });
            
            // Share results button
            document.getElementById('share-results-btn').addEventListener('click', function() {
                // Create shareable content
                let shareText = `I just played The Effectual School Leader simulation by Chad Ratliff!\n\nMy ${gameState.leadership === 'improve' ? 'Doing Things Better' : 'Doing Better Things'} approach with a ${getVisionName(gameState.vision)} model achieved the following results:\n Academic Outcomes: ${document.getElementById('final-academic').style.width}\n Student & Staff Well-being: ${document.getElementById('final-wellbeing').style.width}\n Financial Sustainability: ${document.getElementById('final-financial').style.width}\n Community Impact: ${document.getElementById('final-community').style.width}\n\nPlay the simulation yourself to see how you would transform education!`;
                
                // Mobile share if available
                if (navigator.share) {
                    navigator.share({
                        title: 'My School Leadership Simulation Results',
                        text: shareText
                    })
                    .catch(error => {
                        console.log('Share failed:', error);
                        copyToClipboard(shareText);
                    });
                } else {
                    // Fallback - copy to clipboard
                    copyToClipboard(shareText);
                }
            });
            
            // Helper function for vision name
            function getVisionName(vision) {
                switch(vision) {
                    case 'pbl': return 'Project-Based Learning';
                    case 'interdisciplinary': return 'Interdisciplinary';
                    case 'competency': return 'Competency-Based';
                    case 'student-driven': return 'Student-Driven';
                    case 'blended': return 'Blended Learning';
                    case 'expeditionary': return 'Expeditionary Learning';
                    default: return '';
                }
            }
            
            // Copy to clipboard function
            function copyToClipboard(text) {
                // Create temporary element
                const el = document.createElement('textarea');
                el.value = text;
                document.body.appendChild(el);
                
                // Select and copy
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                
                alert('Results copied to clipboard! You can now paste and share them.');
            }
            
            // Panel navigation
            function changePanel(fromPanel, toPanel) {
                // Hide current panel
                document.getElementById(fromPanel + '-panel').style.display = 'none';
                
                // Show new panel
                document.getElementById(toPanel + '-panel').style.display = 'block';
                
                // Update game state
                gameState.currentPanel = toPanel;
                
                // Scroll to top
                window.scrollTo(0, 0);
            }
        });
        
        // Mobile-specific adjustments
        window.addEventListener('DOMContentLoaded', function() {
            // Check if mobile
            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Adjust font sizes for better readability on small screens
                document.querySelectorAll('.card-title').forEach(el => {
                    el.style.fontSize = '1.1rem';
                });
                
                document.querySelectorAll('p').forEach(el => {
                    el.style.fontSize = '0.95rem';
                });
                
                // Make buttons larger for touch targets
                document.querySelectorAll('.btn').forEach(el => {
                    el.style.padding = '12px 20px';
                    el.style.fontSize = '1.1rem';
                });
                
                // Ensure spacing works well on mobile
                document.querySelectorAll('.dashboard').forEach(el => {
                    el.style.gap = '15px';
                });
                
                // Add specific touch handling for sliders
                document.querySelectorAll('input[type="range"]').forEach(el => {
                    el.style.height = '30px';
                });
            }
        });
    </script>
</body>
</html>
